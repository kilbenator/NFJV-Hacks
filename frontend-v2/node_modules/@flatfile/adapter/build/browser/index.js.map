{"version":3,"file":"index.js","sources":["../../src/index.ts","../../src/importer.ts","../../src/utils/insertCss.ts","../../src/results.ts","../../src/streamed-results.ts","../../src/upload-file.ts","../../src/user.ts","../../src/stats.ts","../../node_modules/penpal/lib/index.js","../../node_modules/element-class/index.js","../../node_modules/when-dom-ready/src/index.js","../../node_modules/eventemitter3/index.js","../../node_modules/tslib/tslib.es6.js","../../src/document.contains.polyfill.ts","../../node_modules/promise-polyfill/dist/polyfill.js"],"sourcesContent":["import 'promise-polyfill/dist/polyfill'\n\nimport registerDocumentContainsPolyfill from './document.contains.polyfill'\nregisterDocumentContainsPolyfill()\n\nimport { FlatfileImporter } from './importer'\n\nexport {\n  ISettings,\n  CustomerObject,\n  FieldHookCallback,\n  LoadOptionsObject,\n  IVirtualFieldOptions,\n  IInteractionEvent,\n  IBeforeFetchRequest,\n  IBeforeFetchResponse,\n  StepHookCallback,\n  RecordObject,\n  IDataHookResponse,\n  ScalarDictionary,\n  Nullable,\n  IPrimitive,\n  IValidationResponse,\n  IDictionary,\n  FlatfileResults\n} from './interfaces'\n\nexport default FlatfileImporter\n","import { EventEmitter } from 'eventemitter3'\nimport whenDomReady from 'when-dom-ready'\nimport elementClass from 'element-class'\nimport Penpal from 'penpal'\nimport {\n  CustomerObject,\n  FieldHookCallback,\n  IBeforeFetchRequest,\n  IBeforeFetchResponse,\n  IDataHookResponse,\n  IInteractionEvent,\n  ISettings,\n  IVirtualFieldOptions,\n  LoadOptionsObject,\n  Meta,\n  RecordObject,\n  StepHookCallback,\n  StepHooks\n} from './interfaces'\nimport { Results } from './results'\nimport { insertCss } from './utils/insertCss'\n\nexport class FlatfileImporter extends EventEmitter {\n  public static Promise = Promise\n  private static MOUNT_URL: string = 'https://portal-2.flatfile.io/?key=:key'\n\n  /**\n   * Promise that resolves when the handshake is completed between Flatfile.io and the adapter\n   */\n  public $ready: Promise<any>\n\n  private apiKey: string\n  private options: ISettings\n  private customer?: CustomerObject\n  private uuid: string\n\n  // @ts-ignore\n  private handshake: Penpal.IChildConnectionObject | null\n\n  private $resolver: (data: any) => any\n  private $rejecter: (err: any) => any\n  private $networkErrorCallback?: (err: string) => void\n  private $beforeFetchCallback?: (req: IBeforeFetchRequest) => IBeforeFetchResponse\n  private $interactionEventCallback?: (req: IInteractionEvent) => void\n  private $recordHook?: (\n    row: { [key: string]: string | number },\n    index: number,\n    mode: string\n  ) => IDataHookResponse | Promise<IDataHookResponse>\n  private $virtualRecordHook?: (\n    row: { [key: string]: string | number },\n    index: number,\n    mode: string\n  ) => IDataHookResponse | Promise<IDataHookResponse>\n  private $fieldHooks: Array<{ field: string; cb: FieldHookCallback }> = []\n  private $stepHooks: StepHooks = {} as StepHooks\n\n  constructor(apiKey: string, options: ISettings, customer?: CustomerObject) {\n    super()\n    this.apiKey = apiKey\n    this.options = options\n    this.customer = customer\n    this.uuid = this.$generateUuid()\n    this.$ready = new FlatfileImporter.Promise((resolve, reject) => {\n      this.$resolver = resolve\n      this.$rejecter = reject\n    })\n\n    whenDomReady(() => {\n      this.initialize()\n    })\n  }\n\n  /**\n   * This will by default always be `https://www.flatfile.io/importer/:key` unless you are\n   * an enterprise customer that is self-hosting the application. In which case, this\n   * will be the URL of your enterprise installd Flatfile importer index page\n   */\n  public static setMountUrl(url: string): void {\n    this.MOUNT_URL = url\n  }\n\n  /**\n   * This allows you to opt into or out of specific versions of the Flatfile SDK\n   */\n  public static setVersion(version: 1 | 2): void {\n    switch (version) {\n      case 1:\n        this.MOUNT_URL = 'https://kiosk-lite.flatfile.io/?key=:key'\n        break\n      case 2:\n        this.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key'\n        break\n      default:\n        throw new Error(`${version} is not a valid version`)\n    }\n  }\n\n  /**\n   * Call open() to activate the importer overlay dialog.\n   */\n  open(options = {}): void {\n    if (this.handshake === null) {\n      throw new Error('This importer has been destroyed.')\n    }\n    options = {\n      ...options,\n      bulkInit: true,\n      hasVirtualRecordHook: !!this.$virtualRecordHook,\n      hasRecordHook: !!this.$recordHook,\n      hasInteractionEventCallback: !!this.$interactionEventCallback,\n      stepHooks: Object.keys(this.$stepHooks),\n      fieldHooks: this.$fieldHooks.map((v) => v.field),\n      endUser: this.customer\n    }\n    this.$ready.then((child) => {\n      elementClass(document.body).add('flatfile-active')\n      let el = document.getElementById(`flatfile-${this.uuid}`)\n      if (el) {\n        el.style.display = 'block'\n      }\n      child.open(options)\n    })\n  }\n\n  /**\n   * Use load() when you want a promise returned. This is necessary if you want to use\n   * async/await for an es6 implementation\n   * @deprecated\n   */\n  load(): Promise<Array<Object>> {\n    return new FlatfileImporter.Promise((resolve, reject) => {\n      this.open()\n\n      const cleanup = () => {\n        this.removeListener('close', loadRejectHandler)\n        this.removeListener('complete', loadResolveHandler)\n      }\n\n      function loadResolveHandler(rows: Array<Object>) {\n        resolve(rows)\n        cleanup()\n      }\n\n      function loadRejectHandler(err) {\n        reject(err)\n        cleanup()\n      }\n\n      this.on('close', loadRejectHandler)\n      this.on('complete', loadResolveHandler)\n    })\n  }\n\n  /**\n   * Use requestDataFromUser() when you want a promise returned. This is necessary if you want to use\n   * async/await for an es6 implementation\n   */\n  requestDataFromUser(options: LoadOptionsObject = {}): Promise<Results> {\n    this.open({ ...options, inChunks: options.inChunks || null, expectsExpandedResults: true })\n    return this.responsePromise()\n  }\n\n  /**\n   * This will display a progress indicator inside the importer if you anticipate that handling\n   * the output of the importer may take some time.\n   */\n  displayLoader(msg?: string): void {\n    this.$ready.then((child) => {\n      child.displayLoader(msg)\n    })\n  }\n\n  /**\n   * This will display a dialog inside of the importer with an error icon and the message you\n   * pass. The user will be able to acknowledge the error and be returned to the import data\n   * spreadsheet to ideally fix any issues or attempt submitting again.\n   * @deprecated\n   */\n  displayError(msg?: string): void {\n    this.$ready.then((child) => {\n      child.displayError(msg)\n    })\n  }\n\n  /**\n   * This will display a dialog inside of the importer with an error icon and the message you\n   * pass. The user will be able to acknowledge the error and be returned to the import data\n   * spreadsheet to ideally fix any issues or attempt submitting again.\n   *\n   * @param corrections - allows user to do server-side validation and provide error / warning\n   * messages or value overrides\n   */\n  requestCorrectionsFromUser(msg?: string, corrections?: IDataHookResponse[]): Promise<Results> {\n    this.$ready.then((child) => {\n      child.displayError(msg, corrections)\n    })\n    return this.responsePromise()\n  }\n\n  /**\n   * This will display a dialog inside of the importer with a success icon and the message you\n   * pass.\n   *\n   * @return Promise that will be resolved when user closes the dialog.\n   */\n  displaySuccess(msg?: string): Promise<void> {\n    this.$ready.then((child) => {\n      child.displaySuccess(msg)\n    })\n\n    return new Promise((resolve) => {\n      const handleSuccess = () => {\n        resolve()\n        this.removeListener('close', handleSuccess)\n      }\n\n      this.on('close', handleSuccess)\n    })\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  setCustomer(customer: CustomerObject): void {\n    this.customer = customer\n  }\n\n  /**\n   * Set the language for the Portal\n   */\n  setLanguage(lang: string): void {\n    this.$ready.then((child) => {\n      child.setLanguage(lang)\n    })\n  }\n\n  addVirtualField(field: ISettings['fields'][0], options: IVirtualFieldOptions = {}): void {\n    this.$ready.then((child) => {\n      child.addVirtualField({ field, options })\n    })\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  registerRecordHook(callback: FlatfileImporter['$recordHook']): void {\n    this.$recordHook = callback\n  }\n\n  registerVirtualRecordHook(callback: FlatfileImporter['$virtualRecordHook']): void {\n    this.$virtualRecordHook = callback\n  }\n\n  registerNetworkErrorCallback(callback: FlatfileImporter['$networkErrorCallback']): void {\n    this.$networkErrorCallback = callback\n  }\n\n  registerBeforeFetchCallback(callback: FlatfileImporter['$beforeFetchCallback']): void {\n    this.$beforeFetchCallback = callback\n  }\n\n  registerInteractionEventCallback(callback: FlatfileImporter['$interactionEventCallback']): void {\n    this.$interactionEventCallback = callback\n  }\n\n  registerFieldHook(field: string, cb: FieldHookCallback): void {\n    this.$fieldHooks.push({ field, cb })\n  }\n\n  registerStepHook<T extends keyof StepHooks>(step: T, callback: StepHookCallback<T>): void {\n    this.$stepHooks[step] = callback\n  }\n\n  /**\n   * Call close() from the parent window in order to hide the importer. You can do this after\n   * handling the import callback so your users don't have to click the confirmation button\n   */\n  close() {\n    this.$ready.then((child) => {\n      child.close()\n    })\n  }\n\n  /**\n   * This will remove the importer's HTML element and will destroy the connection.\n   * You wouldn't be able to open an importer if this method gets called.\n   */\n  destroy() {\n    document.getElementById(`flatfile-${this.uuid}`)?.remove()\n    this.handshake = null\n  }\n\n  private handleClose() {\n    elementClass(document.body).remove('flatfile-active')\n    let el = document.getElementById(`flatfile-${this.uuid}`)\n    if (el) {\n      el.style.display = 'none'\n    }\n  }\n\n  private initialize() {\n    insertCss(`\n      .flatfile-component {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        display: none;\n        z-index: 100000;\n      }\n      .flatfile-component iframe {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        border-width: 0;\n      }\n      body.flatfile-active {\n        overflow: hidden;\n        overscroll-behavior-x: none;\n      }\n    `)\n\n    document.body.insertAdjacentHTML(\n      'beforeend',\n      `<div id=\"flatfile-${this.uuid}\" class=\"flatfile-component\"></div>`\n    )\n    const timeout = setTimeout(\n      () =>\n        console.error(\n          '[Flatfile] Looks like Portal takes too long to load. Please visit our Help Center (https://support.flatfile.com/hc/en-us/articles/4408071883924-CORS-Referrer-Policy-Recommendations) or contact Flatfile support for any help.'\n        ),\n      5000\n    )\n    this.handshake = Penpal.connectToChild({\n      appendTo: document.getElementById(`flatfile-${this.uuid}`) || undefined,\n      url: FlatfileImporter.MOUNT_URL.replace(':key', this.apiKey),\n      methods: {\n        results: (data) => {\n          this.emit('results', data.results, data.meta)\n        },\n        complete: (data) => {\n          this.emit('complete', data.rows, data.meta)\n        },\n        close: () => {\n          this.emit('close')\n          this.handleClose()\n        },\n        networkErrorCallback: (error) => {\n          return this.$networkErrorCallback ? this.$networkErrorCallback(error) : undefined\n        },\n        beforeFetchCallback: (req) => {\n          return this.$beforeFetchCallback ? this.$beforeFetchCallback(req) : undefined\n        },\n        interactionEventCallback: (req) => {\n          return this.$interactionEventCallback ? this.$interactionEventCallback(req) : undefined\n        },\n        dataHookCallback: (row, index, mode) => {\n          try {\n            return this.$recordHook ? this.$recordHook(row, index, mode) : undefined\n          } catch ({ message, stack }) {\n            console.error(`Flatfile Record Hook Error on row ${index}:\\n  ${stack}`, { row, mode })\n\n            return {}\n          }\n        },\n        bulkHookCallback: (rows, mode) => {\n          try {\n            if (mode === 'virtual') {\n              return this.$virtualRecordHook\n                ? Promise.all(\n                    rows.map(([row, index]) => {\n                      try {\n                        return this.$virtualRecordHook!(row, index, mode)\n                      } catch (e) {\n                        e.row = row\n                        e.index = index\n                        throw e\n                      }\n                    })\n                  )\n                : undefined\n            }\n            return this.$recordHook\n              ? Promise.all(\n                  rows.map(([row, index]) => {\n                    try {\n                      return this.$recordHook!(row, index, mode)\n                    } catch (e) {\n                      e.row = row\n                      e.index = index\n                      throw e\n                    }\n                  })\n                )\n              : undefined\n          } catch ({ stack, row, index }) {\n            console.error(`Flatfile Record Hook Error on row ${index}:\\n  ${stack}`, { row, mode })\n\n            return {}\n          }\n        },\n        fieldHookCallback: (values, meta) => {\n          const fieldHook = this.$fieldHooks.find((v) => v.field === meta.field)\n          if (!fieldHook) {\n            return undefined\n          }\n          try {\n            return fieldHook.cb(values, meta)\n          } catch ({ stack }) {\n            console.error(`Flatfile Field Hook Error on field \"${meta.field}\":\\n  ${stack}`, {\n              meta,\n              values\n            })\n\n            return []\n          }\n        },\n        stepHookCallback: async (step, payload) => {\n          if (!this.$stepHooks[step]) {\n            return undefined\n          }\n          try {\n            return await this.$stepHooks[step](payload)\n          } catch ({ stack }) {\n            console.error(`Flatfile Step Hook Error on step \"${step}\":\\n  ${stack}`, {\n              payload\n            })\n          }\n        },\n        ready: () => {\n          this.handshake.promise\n            .then((child) => {\n              this.$resolver(child)\n              if (this.customer) {\n                child.setUser(this.customer)\n              }\n            })\n            .catch((err) => {\n              console.error(err)\n            })\n          return this.options\n        }\n      }\n    })\n\n    this.handshake.promise.then(() => {\n      if (timeout) clearTimeout(timeout)\n    })\n\n    this.handshake.promise.catch((err) => {\n      this.$rejecter(err)\n    })\n  }\n\n  private $generateUuid(): string {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\n  }\n\n  private responsePromise(): Promise<Results> {\n    return new Promise((resolve, reject) => {\n      const loadResolveHandler = async (rows: Array<RecordObject>, meta: object) => {\n        const results = new Results(rows, meta as Meta, this)\n        resolve(results)\n        cleanup()\n      }\n\n      function loadRejectHandler(err) {\n        reject(err)\n        cleanup()\n      }\n\n      const self = this\n\n      function cleanup() {\n        self.removeListener('close', loadRejectHandler)\n        self.removeListener('results', loadResolveHandler)\n      }\n\n      this.on('close', loadRejectHandler)\n      this.on('results', loadResolveHandler)\n    })\n  }\n}\n","let styleElement\n\nexport const insertCss = (css: string) => {\n  if (!css) {\n    return\n  }\n\n  if (styleElement) {\n    return\n  }\n\n  styleElement = document.createElement('style')\n  styleElement.setAttribute('type', 'text/css')\n  document.querySelector('head')?.appendChild(styleElement)\n\n  if (css.charCodeAt(0) === 0xfeff) {\n    css = css.substr(1)\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    styleElement.textContent = css\n  }\n}\n","import { FlatfileImporter } from './importer'\nimport { Stats } from './stats'\nimport { Meta, RecordObject } from './interfaces'\nimport { EndUser } from './user'\nimport { UploadFile } from './upload-file'\nimport { StreamedResults } from './streamed-results'\nimport { FlatfileResults } from './interfaces/results.interface'\n\nexport class Results implements FlatfileResults {\n  /**\n   * Information about the import\n   */\n  private $meta: Meta\n\n  /**\n   * Raw data output from the importer\n   */\n  private $data: Array<RecordObject>\n\n  /**\n   * Instance of importer used to manage this file\n   */\n  private $importer: FlatfileImporter\n\n  /**\n   * The raw output from the importer including all deleted rows\n   * and sequence info\n   */\n  rawOutput: Array<RecordObject>\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   * (alias of validData)\n   */\n  data: Array<any>\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   */\n  validData: Array<any>\n\n  /**\n   * Rows of data the user excluded from the final results,\n   * key-mapped to the configuration provided\n   */\n  deletedData: Array<any>\n\n  /**\n   * All data from the original file upload including deleted rows,\n   * key-mapped to the configuration provided\n   */\n  allData: Array<any>\n\n  /**\n   * The uuid of the batch assigned by Flatfile (use this in internal\n   * references for support purposes)\n   */\n  batchId: string\n\n  /**\n   * Stats and counts about this file upload\n   */\n  stats: Stats\n\n  /**\n   * The customer provided in setCustomer\n   */\n  customer: EndUser | null\n\n  /**\n   * A File object of the originally uploaded file stored as an AWS url\n   */\n  originalFile: UploadFile | null\n\n  /**\n   * Same as originalFile unless it was uploaded in xls format, in which case this is the converted csv file stored as an AWS url\n   */\n  csvFile: UploadFile | null\n\n  /**\n   * The filename of the originally uploaded file\n   */\n  fileName: string | null\n\n  /**\n   * If the final upload is managed by a private endpoint or not\n   */\n  managed: boolean\n\n  /**\n   * If the data was entered manually instead of via file upload or not\n   */\n  manual: boolean\n\n  /**\n   * The parsed and bootstrapped config object used by this importer instance\n   */\n  config: object\n\n  /**\n   * The configuration used by the csv parser PapaParse: https://www.papaparse.com/docs#config\n   */\n  parsingConfig: object\n\n  /**\n   * The invalid rows that were skipped on submission\n   */\n  skippedRows: number | null\n\n  /**\n   * The headers before they were matched as given in the original file\n   */\n  headersRaw: Array<object> | null\n\n  /**\n   * The headers after they are matched\n   */\n  headersMatched: Array<object> | null\n\n  /**\n   * An array of any columns that were created during import\n   */\n  customColumns: Array<object>\n\n  /**\n   * A mapping of source values to target category values\n   */\n  categoryFieldMap: object | null\n\n  /**\n   * The reason for the failure if there was a failure\n   */\n  failureReason: string | null\n\n  /**\n   * The time that the data was submitted\n   */\n  submittedAt: string | null\n\n  /**\n   * The time that the import failed if it failed\n   */\n  failedAt: string | null\n\n  /**\n   * The time the data began the import, whether via file upload or manual data entry\n   */\n  createdAt: string\n\n  /**\n   * The stylesheet of the cells. Make sure to use `allowFormatting=true` in the config.\n   */\n  stylesheet: Meta['stylesheet'] | null\n\n  /**\n   * Get the next chunk of records\n   */\n  nextChunk: () => Promise<null | StreamedResults>\n\n  constructor(data: Array<RecordObject>, meta: Meta, importer: FlatfileImporter) {\n    this.$meta = meta\n    this.$data = data\n    this.$importer = importer\n\n    this.rawOutput = this.blobOnly(this.$data, 'rawOutput')\n\n    this.validData = this.blobOnly(\n      this.$data\n        .filter((v) => v.valid)\n        .filter((v) => !v.deleted)\n        .map((v) => v.data),\n      'validData'\n    )\n\n    this.data = this.blobOnly(this.validData, 'data')\n\n    this.deletedData = this.blobOnly(\n      this.$data.filter((v) => v.deleted).map((v) => v.data),\n      'deletedData'\n    )\n    this.allData = this.blobOnly(\n      this.$data.map((v) => v.data),\n      'allData'\n    )\n\n    this.batchId = this.$meta.batchID\n    this.stats = new Stats(this.$meta)\n    this.customer = this.$meta.endUser ? new EndUser(this.$meta.endUser) : null\n    this.originalFile = this.$meta.originalFile ? new UploadFile(this.$meta.originalFile) : null\n    this.csvFile = this.getCSVFile()\n    this.fileName = this.$meta.filename || null\n    this.managed = this.$meta.managed || false\n    this.manual = this.$meta.manual\n    this.config = this.$meta.config\n    this.parsingConfig = this.$meta.parsing_config\n    this.skippedRows = this.$meta.skipped_rows || null\n    this.headersRaw = this.$meta.headers_raw || null\n    this.headersMatched = this.$meta.headers_matched || null\n    this.customColumns = this.$meta.custom_columns\n    this.categoryFieldMap = this.$meta.category_field_map || null\n    this.failureReason = this.$meta.failure_reason || null\n    this.submittedAt = this.$meta.submitted_at || null\n    this.failedAt = this.$meta.failed_at || null\n    this.createdAt = this.$meta.created_at\n    this.stylesheet = this.$meta.stylesheet\n\n    this.nextChunk = () => this.getNextChunk()\n  }\n\n  private getCSVFile() {\n    if (this.$meta.originalFile) {\n      if (this.$meta.originalFile.filetype === 'csv') {\n        return new UploadFile(this.$meta.originalFile)\n      } else {\n        if (this.$meta.csvFile) {\n          return new UploadFile(this.$meta.csvFile)\n        }\n      }\n    }\n    return null\n  }\n\n  private getNextChunk(): Promise<null | StreamedResults> {\n    return new Promise((resolve, reject) => {\n      if (!this.$meta.inChunks) {\n        return reject(\n          `\"nextChunk()\" is only accessible when using \"inChunks\". Please see docs for \"requestDataFromUser\".`\n        )\n      }\n      this.$importer.$ready.then((child) => {\n        console.log('child.nextChunk()')\n        child.nextChunk().then(\n          (data) => {\n            console.log('nextChunk()', data)\n            resolve(data.results.length ? new StreamedResults(data.results, data.meta) : null)\n          },\n          (err) => {\n            console.log('nextChunk(err)', err)\n          }\n        )\n      })\n    })\n  }\n\n  private blobOnly<T>(v: T, method, alt = 'nextChunk()'): T {\n    if (this.$meta.inChunks) {\n      throw new Error(\n        `\"${method}\" is not accessible when using \"inChunks\". Please see docs for \"${alt}\" instead.`\n      )\n    }\n    return v\n  }\n}\n","import { RecordObject, StreamedMeta } from './interfaces'\n\nexport class StreamedResults {\n  /**\n   * Helpful meta information\n   */\n  private $meta: Pick<StreamedMeta, 'hasMore' | 'inChunks' | 'count_rows_accepted' | 'pointer'>\n\n  /**\n   * Raw data output from the importer\n   */\n  private $data: Array<RecordObject>\n\n  /**\n   * The raw output from the importer including all deleted rows\n   * and sequence info\n   */\n  rawOutput: Array<RecordObject>\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   * (alias of validData)\n   */\n  data: Array<any>\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   */\n  validData: Array<any>\n\n  /**\n   * Rows of data the user excluded from the final results,\n   * key-mapped to the configuration provided\n   */\n  deletedData: Array<any>\n\n  /**\n   * All data from the original file upload including deleted rows,\n   * key-mapped to the configuration provided\n   */\n  allData: Array<any>\n\n  /**\n   * The number of remaining chunks in the stream\n   */\n  remainingChunks: number\n\n  /**\n   * The total number of chunks that will have to be received before data processing is completed\n   */\n  totalChunks: number\n\n  /**\n   * The size of chunks as configured when requesting data.\n   */\n  chunkSize: number\n\n  /**\n   * The current chunk by index\n   */\n  currentChunk: number\n\n  /**\n   * The current chunk by index\n   */\n  hasMore: boolean\n\n  constructor(data: Array<RecordObject>, meta: StreamedMeta) {\n    this.$meta = meta\n    this.$data = data\n\n    this.rawOutput = this.$data\n    this.validData = this.$data\n      .filter((v) => v.valid)\n      .filter((v) => !v.deleted)\n      .map((v) => v.data)\n\n    this.data = this.validData\n    this.deletedData = this.$data.filter((v) => v.deleted).map((v) => v.data)\n    this.allData = this.$data.map((v) => v.data)\n    this.remainingChunks = Math.ceil((this.totalChunks - this.currentChunk) / this.$meta.inChunks)\n    this.totalChunks = Math.ceil(this.$meta.count_rows_accepted / this.$meta.inChunks)\n    this.chunkSize = this.$meta.inChunks\n    this.currentChunk = (this.$meta.pointer + this.chunkSize) / this.chunkSize\n    this.hasMore = this.$meta.hasMore\n  }\n}\n","import { FileObject } from './interfaces'\n\nexport class UploadFile {\n  private $file: FileObject\n\n  /**\n   * A unique UUID referencing this file in the Flatfile system\n   */\n  id: string\n\n  /**\n   * The original filename on the user's system\n   */\n  filename: string\n\n  /**\n   * The size of the file in bytes\n   */\n  filesize: number\n\n  /**\n   * The type of file\n   */\n  filetype: string\n\n  /**\n   * A securely signed url giving you temporary access to download the file\n   */\n  url: string\n\n  constructor(file: FileObject) {\n    this.$file = file\n    this.id = this.$file.id\n    this.filename = this.$file.filename\n    this.filesize = this.$file.filesize\n    this.filetype = this.$file.filetype\n    this.url = this.$file.url\n  }\n}\n","import { EndUserObject } from './interfaces'\n\nexport class EndUser {\n  private $user: EndUserObject\n\n  /**\n   * The UUID referencing the user's record stored in Flatfile\n   */\n  id: string\n\n  /**\n   * Your internal ID reference for this user (required)\n   */\n  userId: string\n\n  /**\n   * The user's full name if you provided it\n   */\n  name: string | undefined\n\n  /**\n   * The user's email if you provided it\n   */\n  email: string | undefined\n\n  /**\n   * The company name the user is currently operating under\n   */\n  companyName: string | undefined\n\n  /**\n   * The company name the user is currently operating under\n   */\n  companyId: string | undefined\n\n  constructor(meta: EndUserObject) {\n    this.$user = meta\n\n    this.id = this.$user.id\n    this.userId = this.$user.userId\n    this.name = this.$user.name\n    this.email = this.$user.name\n    this.companyName = this.$user.companyName\n    this.companyId = this.$user.companyId\n  }\n}\n","import { Meta } from './interfaces'\n\nexport class Stats {\n  private $meta: Meta\n\n  /**\n   * The number of rows in the parsed data\n   */\n  originalRows: number\n\n  /**\n   * The number of rows that were submitted\n   */\n  acceptedRows: number | null\n\n  /**\n   * The number of columns in the parsed data\n   */\n  originalColumns: number | null\n\n  /**\n   * The number of columns submitted\n   */\n  matchedColumns: number | null\n\n  constructor(meta: Meta) {\n    this.$meta = meta\n\n    this.originalRows = this.$meta.count_rows\n    this.acceptedRows = this.$meta.count_rows_accepted || null\n    this.originalColumns = this.$meta.count_columns || null\n    this.matchedColumns = this.$meta.count_columns_matched || null\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = exports.ERR_NOT_IN_IFRAME = exports.ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_DESTROYED = void 0;\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\nvar ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nexports.ERR_CONNECTION_DESTROYED = ERR_CONNECTION_DESTROYED;\nvar ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nexports.ERR_CONNECTION_TIMEOUT = ERR_CONNECTION_TIMEOUT;\nvar ERR_NOT_IN_IFRAME = 'NotInIframe';\nexports.ERR_NOT_IN_IFRAME = ERR_NOT_IN_IFRAME;\nvar ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = 'IframeAlreadyAttachedToDom';\nexports.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\nvar CHECK_IFRAME_IN_DOC_INTERVAL = 60000;\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\nvar URL_REGEX = /^(https?:|file:)?\\/\\/([^/:]+)?(:(\\d+))?/;\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n  ERR_IFRAME_ALREADY_ATTACHED_TO_DOM: ERR_IFRAME_ALREADY_ATTACHED_TO_DOM,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n/**\n * @return {number} A unique ID (not universally unique)\n */\n\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\n\n\nvar log = function log() {\n  if (Penpal.debug) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n\n  }\n};\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\n\n\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n  var regexResult = URL_REGEX.exec(url);\n  var protocol;\n  var hostname;\n  var port;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  } // If the protocol is file, the origin is \"null\"\n  // The origin of a document with file protocol is an opaque origin\n  // and its serialization \"null\" [1]\n  // [1] https://html.spec.whatwg.org/multipage/origin.html#origin\n\n\n  if (protocol === \"file:\") {\n    return \"null\";\n  } // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n\n\n  var portSuffix = port && port !== DEFAULT_PORTS[protocol] ? \":\".concat(port) : '';\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portSuffix);\n};\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\n\n\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\n\n\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return {\n    name: name,\n    message: message,\n    stack: stack\n  };\n};\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\n\n\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\n\n\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destroy, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call sender\"));\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(\"\".concat(localName, \": Sending \").concat(methodName, \"() call\")); // This handles the case where the iframe has been removed from the DOM\n      // (and therefore its window closed), the consumer has not yet\n      // called destroy(), and the user calls a method exposed by\n      // the remote. We detect the iframe has been removed and force\n      // a destroy() immediately so that the consumer sees the error saying\n      // the connection has been destroyed.\n\n      if (remote.closed) {\n        destroy();\n      }\n\n      if (destroyed) {\n        var error = new Error(\"Unable to send \".concat(methodName, \"() call due \") + \"to destroyed connection\");\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(\"\".concat(localName, \": Received \").concat(methodName, \"() reply\"));\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\n\n\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n  var destroyed = false;\n  log(\"\".concat(localName, \": Connecting call receiver\"));\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n      log(\"\".concat(localName, \": Received \").concat(methodName, \"() call\"));\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(\"\".concat(localName, \": Sending \").concat(methodName, \"() reply\"));\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(\"\".concat(localName, \": Unable to send \").concat(methodName, \"() reply due to destroyed connection\"));\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\n\n\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      iframe = _ref2.iframe,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n\n  if (iframe && iframe.parentNode) {\n    var error = new Error('connectToChild() must not be called with an iframe already attached to DOM');\n    error.code = ERR_IFRAME_ALREADY_ATTACHED_TO_DOM;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var parent = window;\n  iframe = iframe || document.createElement('iframe');\n  iframe.src = url;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to child timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    } // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n\n\n    var callSender = {};\n    var receiverMethodNames;\n    var destroyCallReceiver;\n\n    var handleMessage = function handleMessage(event) {\n      var child = iframe.contentWindow;\n\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply'); // If event.origin is \"null\", the remote protocol is file:\n        // and we must post messages with \"*\" as targetOrigin [1]\n        // [1] https://developer.mozilla.org/fr/docs/Web/API/Window/postMessage#Utiliser_window.postMessage_dans_les_extensions\n\n        var remoteOrigin = event.origin === \"null\" ? \"*\" : event.origin;\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, remoteOrigin);\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: remoteOrigin\n        }; // If the child reconnected, we need to destroy the previous call receiver before setting\n        // up a new one.\n\n        if (destroyCallReceiver) {\n          destroyCallReceiver();\n        } // When this promise is resolved, it will destroy the call receiver (stop listening to\n        // method calls from the child) and delete its methods off the call sender.\n\n\n        var callReceiverDestructionPromise = new DestructionPromise(function (resolveCallReceiverDestructionPromise) {\n          connectionDestructionPromise.then(resolveCallReceiverDestructionPromise);\n          destroyCallReceiver = resolveCallReceiverDestructionPromise;\n        });\n        connectCallReceiver(info, methods, callReceiverDestructionPromise); // If the child reconnected, we need to remove the methods from the previous call receiver\n        // off the sender.\n\n        if (receiverMethodNames) {\n          receiverMethodNames.forEach(function (receiverMethodName) {\n            delete callSender[receiverMethodName];\n          });\n        }\n\n        receiverMethodNames = event.data.methodNames;\n        connectCallSender(callSender, info, receiverMethodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    log('Parent: Loading iframe');\n    (appendTo || document.body).appendChild(iframe); // This is to prevent memory leaks when the iframe is removed\n    // from the document and the consumer hasn't called destroy().\n    // Without this, event listeners attached to the window would\n    // stick around and since the event handlers have a reference\n    // to the iframe in their closures, the iframe would stick around\n    // too.\n\n    var checkIframeInDocIntervalId = setInterval(function () {\n      if (!document.body.contains(iframe)) {\n        clearInterval(checkIframeInDocIntervalId);\n        destroy();\n      }\n    }, CHECK_IFRAME_IN_DOC_INTERVAL);\n    connectionDestructionPromise.then(function () {\n      if (iframe.parentNode) {\n        iframe.parentNode.removeChild(iframe);\n      }\n\n      parent.removeEventListener(MESSAGE, handleMessage);\n      clearInterval(checkIframeInDocIntervalId);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n  });\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\n\n\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === void 0 ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === void 0 ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy;\n  var connectionDestructionPromise = new DestructionPromise(function (resolveConnectionDestructionPromise) {\n    destroy = resolveConnectionDestructionPromise;\n  });\n  var child = window;\n  var parent = child.parent;\n  var promise = new Penpal.Promise(function (resolveConnectionPromise, reject) {\n    var connectionTimeoutId;\n\n    if (timeout !== undefined) {\n      connectionTimeoutId = setTimeout(function () {\n        var error = new Error(\"Connection to parent timed out after \".concat(timeout, \"ms\"));\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n        var callSender = {};\n        connectCallReceiver(info, methods, connectionDestructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, destroy, connectionDestructionPromise);\n        clearTimeout(connectionTimeoutId);\n        resolveConnectionPromise(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n    connectionDestructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n    log('Child: Sending handshake');\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nvar _default = Penpal;\nexports.default = _default;","module.exports = function(opts) {\n  return new ElementClass(opts)\n}\n\nfunction indexOf(arr, prop) {\n  if (arr.indexOf) return arr.indexOf(prop)\n  for (var i = 0, len = arr.length; i < len; i++)\n    if (arr[i] === prop) return i\n  return -1\n}\n\nfunction ElementClass(opts) {\n  if (!(this instanceof ElementClass)) return new ElementClass(opts)\n  var self = this\n  if (!opts) opts = {}\n\n  // similar doing instanceof HTMLElement but works in IE8\n  if (opts.nodeType) opts = {el: opts}\n\n  this.opts = opts\n  this.el = opts.el || document.body\n  if (typeof this.el !== 'object') this.el = document.querySelector(this.el)\n}\n\nElementClass.prototype.add = function(className) {\n  var el = this.el\n  if (!el) return\n  if (el.className === \"\") return el.className = className\n  var classes = el.className.split(' ')\n  if (indexOf(classes, className) > -1) return classes\n  classes.push(className)\n  el.className = classes.join(' ')\n  return classes\n}\n\nElementClass.prototype.remove = function(className) {\n  var el = this.el\n  if (!el) return\n  if (el.className === \"\") return\n  var classes = el.className.split(' ')\n  var idx = indexOf(classes, className)\n  if (idx > -1) classes.splice(idx, 1)\n  el.className = classes.join(' ')\n  return classes\n}\n\nElementClass.prototype.has = function(className) {\n  var el = this.el\n  if (!el) return\n  var classes = el.className.split(' ')\n  return indexOf(classes, className) > -1\n}\n\nElementClass.prototype.toggle = function(className) {\n  var el = this.el\n  if (!el) return\n  if (this.has(className)) this.remove(className)\n  else this.add(className)\n}\n","/* eslint no-void: \"off\" */\n\n// Loaded ready states\nconst loadedStates = ['interactive', 'complete'];\n\n// Return Promise\nconst whenDomReady = (cb, doc) => new Promise(resolve => {\n\t// Allow doc to be passed in as the lone first param\n\tif (cb && typeof cb !== 'function') {\n\t\tdoc = cb;\n\t\tcb = null;\n\t}\n\n\t// Use global document if we don't have one\n\tdoc = doc || window.document;\n\n\t// Handle DOM load\n\tconst done = () => resolve(void (cb && setTimeout(cb)));\n\n\t// Resolve now if DOM has already loaded\n\t// Otherwise wait for DOMContentLoaded\n\tif (loadedStates.includes(doc.readyState)) {\n\t\tdone();\n\t} else {\n\t\tdoc.addEventListener('DOMContentLoaded', done);\n\t}\n});\n\n// Promise chain helper\nwhenDomReady.resume = doc => val => whenDomReady(doc).then(() => val);\n\nexport default whenDomReady;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","const contains = function (other) {\n  if (arguments.length < 1) {\n    throw new TypeError('1 argument is required')\n  }\n  if (typeof other !== 'object') {\n    throw new TypeError('Argument 1 (”other“) to Node.contains must be an instance of Node')\n  }\n\n  let node = other\n  do {\n    if (this === node) {\n      return true\n    }\n    if (node) {\n      node = node.parentNode\n    }\n  } while (node)\n\n  return false\n}\n\nexport default function registerDocumentContainsPolyfill() {\n  // tslint:disable-next-line\n  if (typeof document === 'object' && typeof document.contains !== 'function') {\n    Object.getPrototypeOf(document).contains = contains\n  }\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\n/** @suppress {undefinedVars} */\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\n// Expose the polyfill if Promise is undefined or set to a\n// non-function value. The latter can be due to a named HTMLElement\n// being exposed by browsers for legacy reasons.\n// https://github.com/taylorhakes/promise-polyfill/issues/114\nif (typeof globalNS['Promise'] !== 'function') {\n  globalNS['Promise'] = Promise;\n} else if (!globalNS.Promise.prototype['finally']) {\n  globalNS.Promise.prototype['finally'] = finallyConstructor;\n} else if (!globalNS.Promise.allSettled) {\n  globalNS.Promise.allSettled = allSettled;\n}\n\n})));\n"],"names":["EventEmitter","FlatfileImporter","val","whenDomReady","doc","then","resume","addEventListener","done","loadedStates","includes","readyState","resolve","cb","setTimeout","window","document","Promise","global","this"],"mappings":"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"}