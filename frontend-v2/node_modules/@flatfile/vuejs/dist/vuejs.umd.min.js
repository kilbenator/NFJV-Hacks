(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vuejs"]=t():e["vuejs"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({8875:function(e,t,n){var r,o,i;(function(n,a){o=[],r=a,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,c=i.exec(p.stack)||a.exec(p.stack),u=c&&c[1]||!1,l=c&&c[2]||!1,s=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");u===s&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===u)return f[d];if(u===s&&f[d].innerHTML&&f[d].innerHTML.trim()===o)return f[d]}return null}}return e}))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},f2ae:function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}o((function(e,t){(function(e,t){t()})(0,(function(){function e(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function t(e){var t=this;return new t((function(t,n){if(!e||"undefined"===typeof e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,n){if(n&&("object"===typeof n||"function"===typeof n)){var a=n.then;if("function"===typeof a)return void a.call(n,(function(t){i(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0===--o&&t(r)}))}r[e]={status:"fulfilled",value:n},0===--o&&t(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))}var r=setTimeout;function o(e){return Boolean(e&&"undefined"!==typeof e.length)}function i(){}function a(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function u(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void s(t.promise,o)}l(t.promise,r)}else(1===e._state?l:s)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"===typeof n)return void p(a(n,t),e)}e._state=1,e._value=t,f(e)}catch(r){s(e,r)}}function s(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(r){if(n)return;n=!0,s(t,r)}}c.prototype["catch"]=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new d(e,t,n)),n},c.prototype["finally"]=e,c.all=function(e){return new c((function(t,n){if(!o(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var c=o.then;if("function"===typeof c)return void c.call(o,(function(t){a(e,t)}),n)}r[e]=o,0===--i&&t(r)}catch(u){n(u)}}for(var c=0;c<r.length;c++)a(c,r[c])}))},c.allSettled=t,c.resolve=function(e){return e&&"object"===typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!o(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){r(e,0)},c._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n)return n;throw new Error("unable to locate global object")}();"function"!==typeof h["Promise"]?h["Promise"]=c:h.Promise.prototype["finally"]?h.Promise.allSettled||(h.Promise.allSettled=t):h.Promise.prototype["finally"]=e}))}));var i=function(e){if(arguments.length<1)throw new TypeError("1 argument is required");if("object"!==typeof e)throw new TypeError("Argument 1 (”other“) to Node.contains must be an instance of Node");var t=e;do{if(this===t)return!0;t&&(t=t.parentNode)}while(t);return!1};function a(){"object"===typeof document&&"function"!==typeof document.contains&&(Object.getPrototypeOf(document).contains=i)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function s(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function c(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,c)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var d=o((function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var c=new o(r,i||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],c]:e._events[u].push(c):(e._events[u]=c,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),c.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},c.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},c.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,o,i,a){var c=n?n+e:e;if(!this._events[c])return!1;var u,l,s=this._events[c],f=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),f){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,o),!0;case 5:return s.fn.call(s.context,t,r,o,i),!0;case 6:return s.fn.call(s.context,t,r,o,i,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];s.fn.apply(s.context,u)}else{var d,p=s.length;for(l=0;l<p;l++)switch(s[l].once&&this.removeListener(e,s[l].fn,void 0,!0),f){case 1:s[l].fn.call(s[l].context);break;case 2:s[l].fn.call(s[l].context,t);break;case 3:s[l].fn.call(s[l].context,t,r);break;case 4:s[l].fn.call(s[l].context,t,r,o);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];s[l].fn.apply(s[l].context,u)}}return!0},c.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var c=this._events[i];if(c.fn)c.fn!==t||o&&!c.once||r&&c.context!==r||a(this,i);else{for(var u=0,l=[],s=c.length;u<s;u++)(c[u].fn!==t||o&&!c[u].once||r&&c[u].context!==r)&&l.push(c[u]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})),p=d.EventEmitter,h=["interactive","complete"],m=function(e,t){return new Promise((function(n){e&&"function"!==typeof e&&(t=e,e=null),t=t||window.document;var r=function(){return n(void(e&&setTimeout(e)))};-1!==h.indexOf(t.readyState)?r():t.addEventListener("DOMContentLoaded",r)}))};m.resume=function(e){return function(t){return m(e).then((function(){return t}))}};var y=[],v=[],b="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function g(e,t){if(t=t||{},void 0===e)throw new Error(b);var n,r=!0===t.prepend?"prepend":"append",o=void 0!==t.container?t.container:document.querySelector("head"),i=y.indexOf(o);return-1===i&&(i=y.push(o)-1,v[i]={}),void 0!==v[i]&&void 0!==v[i][r]?n=v[i][r]:(n=v[i][r]=w(),"prepend"===r?o.insertBefore(n,o.childNodes[0]):o.appendChild(n)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),n.styleSheet?n.styleSheet.cssText+=e:n.textContent+=e,n}function w(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}var _=g,O=g;_.insertCss=O;var k=function(e){return new $(e)};function E(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $(e){if(!(this instanceof $))return new $(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!==typeof this.el&&(this.el=document.querySelector(this.el))}$.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var n=t.className.split(" ");return E(n,e)>-1||(n.push(e),t.className=n.join(" ")),n}},$.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var n=t.className.split(" "),r=E(n,e);return r>-1&&n.splice(r,1),t.className=n.join(" "),n}},$.prototype.has=function(e){var t=this.el;if(t){var n=t.className.split(" ");return E(n,e)>-1}},$.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))};var C=o((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var n="handshake",r="handshake-reply",o="call",i="reply",a="fulfilled",c="rejected",u="message",l="DataCloneError",s="ConnectionDestroyed";t.ERR_CONNECTION_DESTROYED=s;var f="ConnectionTimeout";t.ERR_CONNECTION_TIMEOUT=f;var d="NotInIframe";t.ERR_NOT_IN_IFRAME=d;var p="IframeAlreadyAttachedToDom";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=p;var h=6e4,m={"http:":"80","https:":"443"},y=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/,v={ERR_CONNECTION_DESTROYED:s,ERR_CONNECTION_TIMEOUT:f,ERR_NOT_IN_IFRAME:d,ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:p,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},b=function(){var e=0;return function(){return++e}}(),g=function(){if(v.debug){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[Penpal]"].concat(n))}},w=function(e){var t,n,r,o=document.location,i=y.exec(e);if(i?(t=i[1]?i[1]:o.protocol,n=i[2],r=i[4]):(t=o.protocol,n=o.hostname,r=o.port),"file:"===t)return"null";var a=r&&r!==m[t]?":".concat(r):"";return"".concat(t,"//").concat(n).concat(a)},_=function(e){var t=[];return e((function(){t.forEach((function(e){e()}))})),{then:function(e){t.push(e)}}},O=function(e){var t=e.name,n=e.message,r=e.stack;return{name:t,message:n,stack:r}},k=function(e){var t=new Error;return Object.keys(e).forEach((function(n){return t[n]=e[n]})),t},E=function(e,t,n,r,c){var l=t.localName,f=t.local,d=t.remote,p=t.remoteOrigin,h=!1;g("".concat(l,": Connecting call sender"));var m=function(e){return function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];if(g("".concat(l,": Sending ").concat(e,"() call")),d.closed&&r(),h){var m=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw m.code=s,m}return new v.Promise((function(t,r){var c=b(),s=function n(o){if(o.source===d&&o.origin===p&&o.data.penpal===i&&o.data.id===c){g("".concat(l,": Received ").concat(e,"() reply")),f.removeEventListener(u,n);var s=o.data.returnValue;o.data.returnValueIsError&&(s=k(s)),(o.data.resolution===a?t:r)(s)}};f.addEventListener(u,s),d.postMessage({penpal:o,id:c,methodName:e,args:n},p)}))}};c.then((function(){h=!0})),n.reduce((function(e,t){return e[t]=m(t),e}),e)},$=function(e,t,n){var r=e.localName,s=e.local,f=e.remote,d=e.remoteOrigin,p=!1;g("".concat(r,": Connecting call receiver"));var h=function(e){if(e.source===f&&e.origin===d&&e.data.penpal===o){var n=e.data,u=n.methodName,s=n.args,h=n.id;if(g("".concat(r,": Received ").concat(u,"() call")),u in t){var m=function(e){return function(t){if(g("".concat(r,": Sending ").concat(u,"() reply")),p)g("".concat(r,": Unable to send ").concat(u,"() reply due to destroyed connection"));else{var n={penpal:i,id:h,resolution:e,returnValue:t};e===c&&t instanceof Error&&(n.returnValue=O(t),n.returnValueIsError=!0);try{f.postMessage(n,d)}catch(o){throw o.name===l&&f.postMessage({penpal:i,id:h,resolution:c,returnValue:O(o),returnValueIsError:!0},d),o}}}};new v.Promise((function(e){return e(t[u].apply(t,s))})).then(m(a),m(c))}}};s.addEventListener(u,h),n.then((function(){p=!0,s.removeEventListener(u,h)}))};v.connectToChild=function(e){var t,o=e.url,i=e.appendTo,a=e.iframe,c=e.methods,l=void 0===c?{}:c,d=e.timeout;if(a&&a.parentNode){var m=new Error("connectToChild() must not be called with an iframe already attached to DOM");throw m.code=p,m}var y=new _((function(e){t=e})),b=window;a=a||document.createElement("iframe"),a.src=o;var O=w(o),k=new v.Promise((function(e,o){var c;void 0!==d&&(c=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(d,"ms"));e.code=f,o(e),t()}),d));var p,m,v={},w=function(o){var i=a.contentWindow;if(o.source===i&&o.origin===O&&o.data.penpal===n){g("Parent: Received handshake, sending reply");var u="null"===o.origin?"*":o.origin;o.source.postMessage({penpal:r,methodNames:Object.keys(l)},u);var s={localName:"Parent",local:b,remote:i,remoteOrigin:u};m&&m();var f=new _((function(e){y.then(e),m=e}));$(s,l,f),p&&p.forEach((function(e){delete v[e]})),p=o.data.methodNames,E(v,s,p,t,y),clearTimeout(c),e(v)}};b.addEventListener(u,w),g("Parent: Loading iframe"),(i||document.body).appendChild(a);var k=setInterval((function(){document.body.contains(a)||(clearInterval(k),t())}),h);y.then((function(){a.parentNode&&a.parentNode.removeChild(a),b.removeEventListener(u,w),clearInterval(k);var e=new Error("Connection destroyed");e.code=s,o(e)}))}));return{promise:k,iframe:a,destroy:t}},v.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.parentOrigin,i=void 0===o?"*":o,a=t.methods,c=void 0===a?{}:a,l=t.timeout;if(window===window.top){var p=new Error("connectToParent() must be called within an iframe");throw p.code=d,p}var h=new _((function(t){e=t})),m=window,y=m.parent,b=new v.Promise((function(t,o){var a;void 0!==l&&(a=setTimeout((function(){var t=new Error("Connection to parent timed out after ".concat(l,"ms"));t.code=f,o(t),e()}),l));var d=function n(o){if(("*"===i||i===o.origin)&&o.source===y&&o.data.penpal===r){g("Child: Received handshake reply"),m.removeEventListener(u,n);var l={localName:"Child",local:m,remote:y,remoteOrigin:o.origin},s={};$(l,c,h),E(s,l,o.data.methodNames,e,h),clearTimeout(a),t(s)}};m.addEventListener(u,d),h.then((function(){m.removeEventListener(u,d);var e=new Error("Connection destroyed");e.code=s,o(e)})),g("Child: Sending handshake"),y.postMessage({penpal:n,methodNames:Object.keys(c)},i)}));return{promise:b,destroy:e}};var C=v;t.default=C})),j=r(C),P=function(){function e(e){this.$meta=e}return Object.defineProperty(e.prototype,"originalRows",{get:function(){return this.$meta.count_rows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"acceptedRows",{get:function(){return this.$meta.count_rows_accepted||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalColumns",{get:function(){return this.$meta.count_columns||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"matchedColumns",{get:function(){return this.$meta.count_columns_matched||null},enumerable:!1,configurable:!0}),e}(),R=function(){function e(e){this.$user=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this.$user.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this.$user.userId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.$user.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.$user.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"companyName",{get:function(){return this.$user.companyName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"companyId",{get:function(){return this.$user.companyId},enumerable:!1,configurable:!0}),e}(),I=function(){function e(e){this.$file=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this.$file.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filename",{get:function(){return this.$file.filename},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filesize",{get:function(){return this.$file.filesize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filetype",{get:function(){return this.$file.filetype},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.$file.url},enumerable:!1,configurable:!0}),e}(),T=function(){function e(e,t){this.$meta=t,this.$data=e}return Object.defineProperty(e.prototype,"rawOutput",{get:function(){return this.$data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.validData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validData",{get:function(){return this.$data.filter((function(e){return e.valid})).filter((function(e){return!e.deleted})).map((function(e){return e.data}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deletedData",{get:function(){return this.$data.filter((function(e){return e.deleted})).map((function(e){return e.data}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allData",{get:function(){return this.$data.map((function(e){return e.data}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remainingChunks",{get:function(){return Math.ceil((this.totalChunks-this.currentChunk)/this.$meta.inChunks)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalChunks",{get:function(){return Math.ceil(this.$meta.count_rows_accepted/this.$meta.inChunks)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chunkSize",{get:function(){return this.$meta.inChunks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentChunk",{get:function(){return(this.$meta.pointer+this.chunkSize)/this.chunkSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasMore",{get:function(){return this.$meta.hasMore},enumerable:!1,configurable:!0}),e}(),x=function(){function e(e,t,n){this.$meta=t,this.$data=e,this.$importer=n}return Object.defineProperty(e.prototype,"rawOutput",{get:function(){return this.blobOnly(this.$data,"rawOutput")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.blobOnly(this.validData,"data")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validData",{get:function(){var e=this.$data.filter((function(e){return e.valid})).filter((function(e){return!e.deleted})).map((function(e){return e.data}));return this.blobOnly(e,"validData")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deletedData",{get:function(){var e=this.$data.filter((function(e){return e.deleted})).map((function(e){return e.data}));return this.blobOnly(e,"deletedData")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allData",{get:function(){return this.blobOnly(this.$data.map((function(e){return e.data})),"allData")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"batchId",{get:function(){return this.$meta.batchID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return new P(this.$meta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customer",{get:function(){return this.$meta.endUser?new R(this.$meta.endUser):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalFile",{get:function(){return this.$meta.originalFile?new I(this.$meta.originalFile):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"csvFile",{get:function(){if(this.$meta.originalFile){if("csv"===this.$meta.originalFile.filetype)return new I(this.$meta.originalFile);if(this.$meta.csvFile)return new I(this.$meta.csvFile)}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fileName",{get:function(){return this.$meta.filename||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"managed",{get:function(){return this.$meta.managed||!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"manual",{get:function(){return this.$meta.manual},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.$meta.config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parsingConfig",{get:function(){return this.$meta.parsing_config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skippedRows",{get:function(){return this.$meta.skipped_rows||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headersRaw",{get:function(){return this.$meta.headers_raw||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headersMatched",{get:function(){return this.$meta.headers_matched||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customColumns",{get:function(){return this.$meta.custom_columns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"categoryFieldMap",{get:function(){return this.$meta.category_field_map||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failureReason",{get:function(){return this.$meta.failure_reason||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submittedAt",{get:function(){return this.$meta.submitted_at||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedAt",{get:function(){return this.$meta.failed_at||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createdAt",{get:function(){return this.$meta.created_at},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stylesheet",{get:function(){return this.$meta.stylesheet},enumerable:!1,configurable:!0}),e.prototype.blobOnly=function(e,t,n){if(void 0===n&&(n="nextChunk()"),this.$meta.inChunks)throw new Error('"'+t+'" is not accessible when using "inChunks". Please see docs for "'+n+'" instead.');return e},e.prototype.nextChunk=function(){var e=this;return new Promise((function(t,n){if(!e.$meta.inChunks)return n('"nextChunk()" is only accessible when using "inChunks". Please see docs for "requestDataFromUser".');e.$importer.$ready.then((function(e){console.log("child.nextChunk()"),e.nextChunk().then((function(e){console.log("nextChunk()",e),t(e.results.length?new T(e.results,e.meta):null)}),(function(e){console.log("nextChunk(err)",e)}))}))}))},e}(),S=function(e){function t(n,r,o){var i=e.call(this)||this;return i.$fieldHooks=[],i.$stepHooks={},i.apiKey=n,i.options=r,i.customer=o,i.uuid=i.$generateUuid(),i.$ready=new t.Promise((function(e,t){i.$resolver=e,i.$rejecter=t})),m((function(){i.initialize()})),i}return u(t,e),t.setMountUrl=function(e){this.MOUNT_URL=e},t.setVersion=function(e){switch(e){case 1:this.MOUNT_URL="https://kiosk-lite.flatfile.io/?key=:key";break;case 2:this.MOUNT_URL="https://portal-2.flatfile.io/?key=:key";break;default:throw new Error(e+" is not a valid version")}},t.prototype.open=function(e){var t=this;void 0===e&&(e={}),e=l(l({},e),{bulkInit:!0,hasRecordHook:!!this.$recordHook,hasInteractionEventCallback:!!this.$interactionEventCallback,stepHooks:Object.keys(this.$stepHooks),fieldHooks:this.$fieldHooks.map((function(e){return e.field})),endUser:this.customer}),this.$ready.then((function(n){k(document.body).add("flatfile-active");var r=document.getElementById("flatfile-"+t.uuid);r&&(r.style.display="block"),n.open(e)}))},t.prototype.load=function(){var e=this;return new t.Promise((function(t,n){e.open();var r=function(){e.removeListener("close",i),e.removeListener("complete",o)};function o(e){t(e),r()}function i(e){n(e),r()}e.on("close",i),e.on("complete",o)}))},t.prototype.requestDataFromUser=function(e){return void 0===e&&(e={}),this.open(l(l({},e),{inChunks:e.inChunks||null,expectsExpandedResults:!0})),this.responsePromise()},t.prototype.displayLoader=function(e){this.$ready.then((function(t){t.displayLoader(e)}))},t.prototype.displayError=function(e){this.$ready.then((function(t){t.displayError(e)}))},t.prototype.requestCorrectionsFromUser=function(e,t){return this.$ready.then((function(n){n.displayError(e,t)})),this.responsePromise()},t.prototype.displaySuccess=function(e){var t=this;return this.$ready.then((function(t){t.displaySuccess(e)})),new Promise((function(e){var n=function(){e(),t.removeListener("close",n)};t.on("close",n)}))},t.prototype.setCustomer=function(e){this.customer=e},t.prototype.setLanguage=function(e){this.$ready.then((function(t){t.setLanguage(e)}))},t.prototype.addVirtualField=function(e,t){void 0===t&&(t={}),this.$ready.then((function(n){n.addVirtualField({field:e,options:t})}))},t.prototype.registerRecordHook=function(e){this.$recordHook=e},t.prototype.registerNetworkErrorCallback=function(e){this.$networkErrorCallback=e},t.prototype.registerBeforeFetchCallback=function(e){this.$beforeFetchCallback=e},t.prototype.registerInteractionEventCallback=function(e){this.$interactionEventCallback=e},t.prototype.registerFieldHook=function(e,t){this.$fieldHooks.push({field:e,cb:t})},t.prototype.registerStepHook=function(e,t){this.$stepHooks[e]=t},t.prototype.close=function(){this.$ready.then((function(e){e.close()}))},t.prototype.handleClose=function(){k(document.body).remove("flatfile-active");var e=document.getElementById("flatfile-"+this.uuid);e&&(e.style.display="none")},t.prototype.initialize=function(){var e=this;_("\n      .flatfile-component {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        display: none;\n        z-index: 100000;\n      }\n      .flatfile-component iframe {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        border-width: 0;\n      }\n      body.flatfile-active {\n        overflow: hidden;\n        overscroll-behavior-x: none;\n      }\n    "),document.body.insertAdjacentHTML("beforeend",'<div id="flatfile-'+this.uuid+'" class="flatfile-component"></div>'),this.handshake=j.connectToChild({appendTo:document.getElementById("flatfile-"+this.uuid)||void 0,url:t.MOUNT_URL.replace(":key",this.apiKey),methods:{results:function(t){e.emit("results",t.results,t.meta)},complete:function(t){e.emit("complete",t.rows,t.meta)},close:function(){e.emit("close"),e.handleClose()},networkErrorCallback:function(t){return e.$networkErrorCallback?e.$networkErrorCallback(t):void 0},beforeFetchCallback:function(t){return e.$beforeFetchCallback?e.$beforeFetchCallback(t):void 0},interactionEventCallback:function(t){return e.$interactionEventCallback?e.$interactionEventCallback(t):void 0},dataHookCallback:function(t,n,r){try{return e.$recordHook?e.$recordHook(t,n,r):void 0}catch(i){i.message;var o=i.stack;return console.error("Flatfile Record Hook Error on row "+n+":\n  "+o,{row:t,mode:r}),{}}},bulkHookCallback:function(t,n){try{return e.$recordHook?Promise.all(t.map((function(t){var r=t[0],o=t[1];try{return e.$recordHook(r,o,n)}catch(i){throw i.row=r,i.index=o,i}}))):void 0}catch(a){var r=a.stack,o=a.row,i=a.index;return console.error("Flatfile Record Hook Error on row "+i+":\n  "+r,{row:o,mode:n}),{}}},fieldHookCallback:function(t,n){var r=e.$fieldHooks.find((function(e){return e.field===n.field}));if(r)try{return r.cb(t,n)}catch(i){var o=i.stack;return console.error('Flatfile Field Hook Error on field "'+n.field+'":\n  '+o,{meta:n,values:t}),[]}},stepHookCallback:function(t,n){return s(e,void 0,void 0,(function(){var e,r;return f(this,(function(o){switch(o.label){case 0:if(!this.$stepHooks[t])return[2,void 0];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.$stepHooks[t](n)];case 2:return[2,o.sent()];case 3:return e=o.sent(),r=e.stack,console.error('Flatfile Step Hook Error on step "'+t+'":\n  '+r,{payload:n}),[3,4];case 4:return[2]}}))}))},ready:function(){return e.handshake.promise.then((function(t){e.$resolver(t),e.customer&&t.setUser(e.customer)})).catch((function(e){console.error(e)})),e.options}}}),this.handshake.promise.catch((function(t){e.$rejecter(t)}))},t.prototype.$generateUuid=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},t.prototype.responsePromise=function(){var e=this;return new Promise((function(t,n){var r=function(n,r){return s(e,void 0,void 0,(function(){var e;return f(this,(function(o){return e=new x(n,r,this),t(e),a(),[2]}))}))};function o(e){n(e),a()}var i=e;function a(){i.removeListener("close",o),i.removeListener("results",r)}e.on("close",o),e.on("results",r)}))},t.Promise=Promise,t.MOUNT_URL="https://portal-2.flatfile.io/?key=:key",t}(p);a(),t["a"]=S}).call(this,n("c8ba"))},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"FlatfileButton",(function(){return p})),"undefined"!==typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:e.launch}},[e._t("default")],2)])},c=[],u=n("f2ae"),l={name:"flatfile-button",props:{settings:{type:Object,validator:function(e){return e&&e.type&&e.fields}},customer:{type:Object,validator:function(e){return e&&e.userId}},licenseKey:{type:String,validator:function(e){return e&&e.length}},fieldHooks:Object,source:[String,Array],onCancel:Function,onInteractionEvent:Function,onBeforeFetch:Function,onData:Function,onRecordChange:Function,onRecordInit:Function,render:Function,preload:{default:!0,type:Boolean},mountUrl:String},data:function(){return{flatfileImporter:null,loaded:!1,importerLoaded:!0}},mounted:function(){this.preload&&this.loadImporter()},methods:{loadImporter:function(){var e=this;if(!this.flatfileImporter){this.mountUrl&&u["a"].setMountUrl(this.mountUrl);var t=new u["a"](this.licenseKey,this.settings,this.customer);if(this.fieldHooks)for(var n in this.fieldHooks)t.registerFieldHook(n,this.fieldHooks[n]);this.onBeforeFetch&&t.registerBeforeFetchCallback(this.onBeforeFetch),this.onInteractionEvent&&t.registerInteractionEventCallback(this.onInteractionEvent),(this.onRecordChange||this.onRecordInit)&&t.registerRecordHook((function(t,n,r){return"init"===r&&e.onRecordInit?e.onRecordInit(t,n):"change"===r&&e.onRecordChange?e.onRecordChange(t,n):void 0})),this.flatfileImporter=t,this.loaded=!0}},dataHandler:function(e){var t,n=this;this.flatfileImporter.displayLoader(),null===(t=this.onData)||void 0===t||t.call(this,e).then((function(e){var t,r;return null!==e?null===(t=n.flatfileImporter.current)||void 0===t?void 0:t.displaySuccess(e||void 0):null===(r=n.flatfileImporter.current)||void 0===r?void 0:r.close()}),(function(e){var t;return null===(t=n.flatfileImporter.current)||void 0===t?void 0:t.requestCorrectionsFromUser(e instanceof Error?e.message:e).then(n.dataHandler,(function(){var e;return null===(e=n.onCancel)||void 0===e?void 0:e.call(n)}))}))},launch:function(){var e=this;this.validateInputs();var t=function t(n){e.flatfileImporter.displayLoader(),e.onData?e.onData(n).then((function(t){e.flatfileImporter.displaySuccess(t||"Success!")}),(function(n){console.error("Flatfile Error : ".concat(n)),e.flatfileImporter.requestCorrectionsFromUser(n?n.message:n).then(t,(function(){var t;return null===(t=e.onCancel)||void 0===t?void 0:t.call(e)}))})):e.flatfileImporter.displaySuccess("Success!")};if(!this.flatfileImporter){if(this.preload)return;this.loadImporter()}var n=this.source?{source:this.source}:void 0;this.flatfileImporter.requestDataFromUser(n).then(t,(function(){var t;return null===(t=e.onCancel)||void 0===t?void 0:t.call(e)}))},validateInputs:function(){var e,t,n;this.licenseKey||(console.error("[Error] Flatfile VueJS Adapter - licenseKey not provided!"),this.isImporterLoaded=!1),null!==(e=this.customer)&&void 0!==e&&e.userId||(console.error("[Error] Flatfile VueJS Adapter - customer userId not provided!"),this.isImporterLoaded=!1),null!==(t=this.settings)&&void 0!==t&&t.type&&null!==(n=this.settings)&&void 0!==n&&n.fields||(console.error("[Error] Flatfile VueJS Adapter - settings { type: String, fields: Array } not provided!"),this.isImporterLoaded=!1)}}},s=l;function f(e,t,n,r,o,i,a,c){var u,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=u):o&&(u=c?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(l.functional){l._injectStyles=u;var s=l.render;l.render=function(e,t){return u.call(t),s(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:l}}var d=f(s,a,c,!1,null,null,null),p=d.exports}})}));
//# sourceMappingURL=vuejs.umd.min.js.map